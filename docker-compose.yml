#
# See https://tradingstrategy.ai/docs for more details
#
version: "3.9"
services:
  pancake_8h_momentum:
    container_name: pancake_8h_momentum
    image: ghcr.io/tradingstrategy-ai/trade-executor:${TRADE_EXECUTOR_VERSION}
    ports:
      # Mapped in reverse proxy Caddyfile
      - "127.0.0.1:19001:3456"
    volumes:
      # Save the strategy execution state in the local filesystem
      - ./state:/usr/src/trade-executor/state
      # Cache the dataset downloads in the local filesystem
      - ./cache:/usr/src/trade-executor/cache
    env_file:
      # Generated by configurations/pancake_8h_momentum.sh
      - ~/pancake_8h_momentum.env
    # What we pass to tradexecutor.cli.main application
    command: start

  quickswap-momentum:
    container_name: quickswap-momentum
    image: ghcr.io/tradingstrategy-ai/trade-executor:${TRADE_EXECUTOR_VERSION}
    ports:
      # Mapped in reverse proxy Caddyfile
      - "127.0.0.1:19002:3456"
    volumes:
      # Save the strategy execution state in the local filesystem
      - ./state:/usr/src/trade-executor/state
      # Cache the dataset downloads in the local filesystem
      - ./cache:/usr/src/trade-executor/cache
    env_file:
      # Generated by configurations/quickswap-momentum.sh
      - ~/quickswap-momentum.env
    # What we pass to tradexecutor.cli.main application
    command: start

  pancake-eth-usd-sma:
    container_name: pancake-eth-usd-sma
    image: ghcr.io/tradingstrategy-ai/trade-executor:${TRADE_EXECUTOR_VERSION}
    ports:
      # We map the default webhook server port 3456 to our localhost IP address
      # where it can be then exposed to HTTPS by Caddy or any
      # other web server that can manage TLS certificates
      - "127.0.0.1:19003:3456"
    volumes:
      # Map the path from where we load the strategy Python modules
      - ./strategy:/usr/src/trade-executor/strategy
      # Save the strategy execution state in the local filesystem
      - ./state:/usr/src/trade-executor/state
      # Cache the dataset downloads in the local filesystem
      - ./cache:/usr/src/trade-executor/cache
    env_file:
      # Generated by configurations/quickswap-momentum.sh
      - ~/pancake-eth-usd-sma-final.env

    # This is the default trade-executor command to
    # launch as a daemon mode.
    # There are several subcommands.
    command: start